# Java中的代理模式

> 代理模式是一种设计模式，其核心思想是通过代理对象来访问目标对象的方法。
>
> 使用代理模式可以在不更改目标类的代码的情况下，增加些功能或者执行一些其他操作。

## 代理模式的实现

> 代理模式有多种实现方式：静态代理、动态代理、cglib代理。

### 1. 静态代理模式

静态代理模式中，代理类和目标类都需要实现相同的接口。

**静态代理是在编译时就完成的，编译完成后代理类是一个实际存在的class文件**



### 2. 动态代理模式

在动态代理模式中，只有目标对象需要实现接口，代理对象不用。

**动态代理是通过使用JDK的API来动态的在内存中动态生成字节码来构建代理对象。**

通过``Proxy``类中的 ``newProxyInstance`` 方法来动态生成代理对象。

```java
MyProxyedInstance proxyInstance = (MyProxyInstance) Proxy.newProxyInstance(...); 
```

### 3. cglib代理

> cglib是一个第三方的代码生成库，可在运行时在内存中动态的生成一个子类对象从而实现对目标对象的扩展。

<mark>cglib 目标类不用实现接口</mark>,相比JDK动态代理更加灵活。





