# JMM

> 由于存在CPU缓存，导致存在缓存主存一致性问题和可见性问题。还有编译器和CPU会对代码和指令进行重排会导致有序性和原子性的问题。如果针对每种硬件去单独做优化是不太现实的，JMM就是一种屏了硬件底层的抽象模型，用来解决JAVA并发编程中存在的这些问题。

## JMM结构

JMM 中内存分为 **主存**和线程**工作内存**

## 并发编程的三大特性

1. 可见性与一致性
2. 原子性
3. 有序性

### 可见性与一致性

> 可见性表示任何线程对与同一变量的操作其他线程是可以看到的

由于Cache的存在或者说工作内存的存在 , 线程在需要操作一个变量的时候会先从主存中拷贝变量到工作内存中再对其进行操作, 在操作完成后重写写回主存.

这样在多线程进行操作的时候就会导致出现主存中的值和工作内存中的值不一致的情况, 而且线程之间也不知道谁对变量做了什么操作.

